extends layout

block content
  h1= title

  form(method='POST', action='')
    div.form-group
      label(for='game') Game:
      select#game.form-control(type='select' name='game' required, value=(gameinstance == null) ? '' : gameinstance.game)
        option(value='') Select Game
        each game in game_list
          option(value=game._id selected=(gameinstance==null) ? '': (game=='selected') ? 'selected': '') #{game.title}
    div.form-group
      label(for='isbn') ISBN:
        input#isbn.form-control(type='text' name='isbn' required placeholder='Enter ISBN' value=(gameinstance == null) ? '' : gameinstance.isbn)

    div.form-group
      label(for='status') Status:
      select#status.form-control(type='select' name='status' required, value=(gameinstance == null) ? '' : gameinstance.status)
        option(value='' selected=(gameinstance==null) ? '': (gameinstance.status=='selected') ? 'selected': '') Select Status
        option(value='Available' selected=(gameinstance==null) ? '': (gameinstance.status=='selected') ? 'selected': '') Available
        option(value='Reserved' selected=(gameinstance==null) ? '': (gameinstance.status=='selected') ? 'selected': '') Reserved
        option(value='Loaned' selected=(gameinstance==null) ? '': (gameinstance.status=='selected') ? 'selected': '') Loaned
        option(value='Unreleased' selected=(gameinstance==null) ? '': (gameinstance.status=='selected') ? 'selected': '') Unreleased

    div.form-group
      label(for='due_back') Date when game available:
      input#due_back.form-control(type='date' name='due_back' value=(undefined===gameinstance? '' : gameinstance.game_form_date))

    button.btn.btn-primary(type='submit') Submit

    if errors
      ul
        for error in errors
          li!= error.msg
